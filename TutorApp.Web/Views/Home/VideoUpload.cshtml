@using TutorApp.Web.Helper;
@model TutorApp.Web.ViewModels.ListViewModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="EduTime">
    <meta name="author" content="EduTime">
    <title>EduTime</title>
    <!-- Favicons-->
    <link rel="shortcut icon" href="img/favicon.ico" type="~/content/image/x-icon">
    <link rel="apple-touch-icon" type="image/x-icon" href="~/content/img/apple-touch-icon-57x57-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="72x72" href="~/content/img/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="114x114" href="~/content/img/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon" type="image/x-icon" sizes="144x144" href="~/content/img/apple-touch-icon-144x144-precomposed.png">
    <!-- BASE CSS -->
    <link href="~/content/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/content/css/style.css" rel="stylesheet">
    <link href="~/content/css/vendors.css" rel="stylesheet">
    <link href="~/content/css/icon_fonts/css/all_icons.min.css" rel="stylesheet">

    <!-- SPECIFIC CSS -->
    <link href="~/content/css/skins/square/grey.css" rel="stylesheet">
    <link href="~/content/css/wizard.css" rel="stylesheet">
    <!-- YOUR CUSTOM CSS -->
    <link href="~/content/css/custom.css" rel="stylesheet">
</head>
<body id="admission_bg">

    <div id="preloader">
        <div data-loader="circle-side"></div>
    </div>
    <!-- End Preload -->

    <div id="form_container" class="clearfix">
        <figure>
            <a href="index.html"><img src="~/content/img/logo.png" width="149" height="42" data-retina="true" alt=""></a>
        </figure>
        <div id="wizard_container">
            <div id="top-wizard">
                <div id="progressbar"></div>
            </div>
            <!-- /top-wizard -->
            <form name="example-1" id="wrapped" method="post">
                <input id="website" name="website" type="text" value="">
                <!-- Leave for security protection, read docs for details -->
                <div id="middle-wizard">
                    <div class="step">
                        <div id="intro">
                            <figure><img src="~/content/img/videob2b.png" width="100%" height="auto" alt=""></figure>
                            <h1>Upload Video</h1>
                            <p>Video Lessons can greatly enhence student learning, and can also gives you the edge you needed in Teaching.</p>
                            <p><strong>Publish you own Videos or Collegues so that students can learn from you even when you are not available.</strong></p>
                        </div>
                    </div>
                    <div class="step">
                        <h3 class="main_question"><strong>1/3</strong>Please fill Video Details</h3>
                        <div class="form-group">
                            <input type="text" name="Name" class="form-control required" placeholder="Video Title">
                        </div>

                        <div class="form-group">
                            <input type="text" name="Description" class="form-control required" placeholder="Your Video Description">
                            <input type="hidden" name="Likes" value="0">
                            <input type="hidden" name="Date" class="date">
                            <input type="hidden" name="WriterID" class="" value="@Model.Teacher.ID">
                        </div>
                    
                    </div>
                    <div class="step">
                        <h3 class="main_question"><strong>2/3</strong>Please Select Video Category</h3>
                      
                        <div class="form-group select">
                            <div class="styled-select">
                                <select name="CategoryID" id="education_apply">
                                    @foreach (var categ in Model.VideoCategory)
                                    {
                                        <option value="@categ.ID">
                                            @categ.Name
                                        </option>
                                    }
                                </select>

                            </div>
                        </div>
                       
                    </div>
                    <!-- /step-->
                    <div class="submit step">

                        <h3 class="main_question"><strong>3/3</strong>Upload your Video & it's Poster</h3>

                        <div style="text-align:center">
                            <img id="imagefile" class="image" src="https://vignette.wikia.nocookie.net/undertale-rho/images/5/5f/Placeholder.jpg/revision/latest?cb=20180213155916">

                            <br />
                            <input id="ImageUrl" name="ImageUrl" type="hidden" />
                            <input type="file" id="ImageUpload" name="Image" />
                            <label>Video Cover</label>
                            <br />
                        </div>
                        <label>Video Cover</label>
                        <input id="VideoUrl" name="FilePath" type="hidden" />
                        <input type="file" id="VideoUpload" name="FilePath" /><br />
                        <label class="size">500MB Size Limit</label>
                        <br />

                    </div>
                    <!-- /step-->

                </div>
                <!-- /middle-wizard -->
                <div id="bottom-wizard">
                    <button type="button" name="backward" class="backward">Backward </button>
                    <button type="button" name="forward" class="forward">Forward</button>
                    <button type="submit" name="process" class="submit">Upload Video</button>
                </div>
                <!-- /bottom-wizard -->
            </form>
        </div>
        <!-- /Wizard container -->
    </div>
    <!-- /Form_container -->
    <!-- Modal terms -->
    <div class="modal fade" id="terms-txt" tabindex="-1" role="dialog" aria-labelledby="termsLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="termsLabel">Terms and conditions</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <p>Lorem ipsum dolor sit amet, in porro albucius qui, in <strong>nec quod novum accumsan</strong>, mei ludus tamquam dolores id. No sit debitis meliore postulant, per ex prompta alterum sanctus, pro ne quod dicunt sensibus.</p>
                    <p>Lorem ipsum dolor sit amet, in porro albucius qui, in nec quod novum accumsan, mei ludus tamquam dolores id. No sit debitis meliore postulant, per ex prompta alterum sanctus, pro ne quod dicunt sensibus. Lorem ipsum dolor sit amet, <strong>in porro albucius qui</strong>, in nec quod novum accumsan, mei ludus tamquam dolores id. No sit debitis meliore postulant, per ex prompta alterum sanctus, pro ne quod dicunt sensibus.</p>
                    <p>Lorem ipsum dolor sit amet, in porro albucius qui, in nec quod novum accumsan, mei ludus tamquam dolores id. No sit debitis meliore postulant, per ex prompta alterum sanctus, pro ne quod dicunt sensibus.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn_1" data-dismiss="modal">Close</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
    <!-- COMMON SCRIPTS -->
    <script src="~/content/js/jquery-2.2.4.min.js"></script>
    <script src="~/content/js/common_scripts.js"></script>
    <script src="~/content/js/main_admission.js"></script>
    <script src="~/content/assets/validate.js"></script>

    <!-- SPECIFIC SCRIPTS -->
    <script src="~/content/js/jquery-ui-1.8.22.min.js"></script>
    <script src="~/content/js/jquery.wizard.js"></script>
    <script src="~/content/js/jquery.validate.js"></script>
    <script src="~/content/js/admission_func.js"></script>
    <script>
        $(".submit").click(function(){
            var d = new Date();
            var strDate = d.getFullYear() + "/" + (d.getMonth() + 1) + "/" + d.getDate();
            $(".date").val(strDate)
        });

         $("#VideoUpload").change(function () {
        var element = this;
        var formData = new FormData();
        var totalfiles = element.files.length;

        for (var i = 0; i < totalfiles; i++) {
            var file = element.files[i];
            formData.append("Video", file);
        }

        $.ajax({
            type: 'POST',
            url: '@Url.Videouploader()',
            dataType: 'json',
            data: formData,
            contentType: false,
            processData: false

        })
        .done(function (response) {
            console.log(response);

            if (response.Success) {

                $("#VideoUrl").val(response.VideoUrl);
            }
            })
       .fail(function (XMLHttpRequest, status, errorthrown) { alert("error"); });

    });

     $("#ImageUpload").change(function () {
        var element = this;
        var formData = new FormData();
        var totalfiles = element.files.length;

        for (var i = 0; i < totalfiles; i++) {
            var file = element.files[i];
            formData.append("Photo", file);
        }

        $.ajax({
            type: 'POST',
            url: '@Url.Imageuploader()',
            dataType: 'json',
            data: formData,
            contentType: false,
            processData: false

        })
            .done(function (response) {
                console.log(response);

                if (response.Success) {
                    $("#imagefile").attr("src", response.ImageUrl);

                    $("#ImageUrl").val(response.ImageUrl);
                }
            })
            .fail(function (XMLHttpRequest, status, errorthrown) { alert("error"); });

    });

    </script>
</body>
</html>
